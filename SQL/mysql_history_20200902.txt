_HiStOrY_V2_
SELECT CURRENT_USER()
SELECT CURRENT_USER();
SELECT CURRENT_USER() SELECT CURRENT_USER();
SELECT CURRENT_USER();
SELECT DATABASE();
SHOW DATABASES;
USE db24;
SELECT DATABASE();
SHOW TABLES;
CREATE TABLE MyTBL_21 (column1 varchar(5));
SHOW TABLES;
DESCRIBE MyTBL_21;
SHOW TABLE STATUS FROM db24 WHERE Name='MyTBL_21';
SELECT * FROM MyTBL_21;
INSERT INTO MyTBL_21 (column1) VALUES ('text1')
SELECT * FROM MyTBL_21;
INSERT INTO MyTBL_21 (column1) VALUES ('text1');
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 ADD column2 int;
SELECT * FROM MyTBL_21;
UPADTE MyTBL_21 SET column2=125 WHERE column1='text1';
SELECT * FROM MyTBL_21;
UPADTE MyTBL_21 SET column2=125 WHERE column1='text1';
SELECT * FROM MyTBL_21;
UPADTE MyTBL_21 SET column2=125 WHERE column1='text1';
UPADTE MyTBL_21 SET column2=125 WHERE column1 LIKE 'text1';
SELECT * FROM MyTBL_21;
UPADTE MyTBL_21 SET column2=125 WHERE column1 LIKE 'text1';
SELECT * FROM MyTBL_21;
INSERT INTO MyTBL_21 (column1) VALUES ('text2');
SELECT * FROM MyTBL_21;
UPADTE MyTBL_21 SET column2=125 WHERE column1 LIKE 'text1';
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column2=125 WHERE column1 LIKE 'text1';
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column2=130 WHERE column1 LIKE 'text2';
SELECT * FROM MyTBL_21;
INSERT INTO MyTBL_21 (column1) VALUES ('text3');
SELECT * FROM MyTBL_21;
SELECT * FROM MyTBL_21 WHERE column1 LIKE '%_xt3%;
SELECT * FROM MyTBL_21 WHERE column1 LIKE '%_xt3%';
UPDATE MyTBL_21 SET column2=135 WHERE column1 LIKE '%_xt3';
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 ADD column3 int;
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 DROP column3;
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column1=text2222 WHERE column1 LIKE 'text2';
UPDATE MyTBL_21 SET column1='text2222' WHERE column1 LIKE 'text2';
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column1='text2222' WHERE column1 LIKE 'text2';
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column1='text2222' WHERE column2 LIKE 130;
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column1='text2222' WHERE column2 LIKE '130';
UPDATE MyTBL_21 SET column1='text9' WHERE column2 LIKE 130;
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column1='text2' WHERE column1 LIKE 'text9';
SELECT * FROM MyTBL_21;
exit()
w
exit
exit;
exit()  w    exit  exit;
exit;
SHOW DATABASES;
USE db24;
SELECT DATABASE;
SELECT DATABASE();
SHOW TABLES;
SELECT * FROM MyTBL_21;
DESCRIBE MyTBL_21;
ALTER TABLE MyTBL_21 MODIFY column1 varchar(5) DEAFAULT 'ABCD';
ALTER TABLE MyTBL_21 MODIFY column1 varchar(5) DEFAULT 'ABCD';
DESCRIBE MyTBL_21;
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 ADD column3 INT PRIMARY KEY;
ALTER TABLE MyTBL_21 ADD column3 int PRIMARY KEY;
ALTER TABLE MyTBL_21 ADD column3 INT;
DESCRIBE MyTBL_21;
ALTER TABLE MyTBL_21 ADD PRIMARY KEY (column3);
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column3=1 WHERE column2=125;
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column3=2 WHERE column2=130;
UPDATE MyTBL_21 SET column3=3 WHERE column2=135;
SELECT * FROM MyTBL_21;
DELETR FROM MyTBL_21 WHERE column2=135;
DELETE FROM MyTBL_21 WHERE column2=135;
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 ADD PRIMARY KEY (column3);
DESCRIBE MyTBL_21;
INSERT INTO MyTBL_21 (column2) VALUES (155);
DESCRIBE MyTBL_21;
SELECT * FROM MyTBL_21;
INSERT INTO MyTBL_21 (column2) VALUES (255);
ALTER TABLE MyTBL_21 ADD PRIMARY KEY (column1);
ALTER TABLE MyTBL_21 ADD PRIMARY KEY (column2);
ALTER TABLE MyTBL_21 DROP PRIMARY KEY, ADD PRIMARY KEY (column2, column3);
DESCRIBE MyTBL_21;
ALTER TABLE MyTBL_21 DROP PRIMARY KEY, ADD PRIMARY KEY (column1, column3);
DESCRIBE MyTBL_21;
INSERT INTO MyTBL_21 (column2) VALUES (255);
SELECT * FROM MyTBL_21;
INSERT INTO MyTBL_21 (column2) VALUES (255);
INSERT INTO MyTBL_21 (column2) VALUES (155);
INSERT INTO MyTBL_21 (column2) VALUES (355);
ALTER TABLE MyTBL_21 DROP PRIMARY KEY, ADD PRIMARY KEY (column2, column3);
ALTER TABLE MyTBL_21 MODIFY column3 INT AUTO INCREMENT;
DESCRIBE MyTBL_21;
INSERT INTO MyTBL_21 (column2) VALUES (255);
DESCRIBE MyTBL_21;
INSERT INTO MyTBL_21 (column2) VALUES (255);
SHOW TABLE STATUS WHERE Name='MyTBL_21';
ALTER TABLE MyTBL_21 MODIFY column3 INT AUTO_INCREMENT;
DESCRIBE MyTBL_21;
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 DROP PRIMARY KEY, ADD PRIMARY KEY (column2, column3);
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 MODIFY column3 INT PRIMARY KEY AUTO_INCREMENT, column2 INT PRIMARY KEY;
ALTER TABLE MyTBL_21 MODIFY column3 INT PRIMARY KEY AUTO_INCREMENT;
ALTER TABLE MyTBL_21 DROP PRIMARY KEY;
SELECT * FROM MyTBL_21;
DESCRIBE MyTBL_21;
ALTER TABLE MyTBL_21 MODIFY column3 INT PRIMARY KEY AUTO_INCREMENT, MODIFY column2 INT PRIMARY KEY;
UPDATE MyTBL_21 SET column3=3 WHERE column2=155;
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column3=4 WHERE column2=255;
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 MODIFY column3 INT PRIMARY KEY AUTO_INCREMENT, MODIFY column2 INT PRIMARY KEY;
DESCRIBE MyTBL_21;
ALTER TABLE MyTBL_21 MODIFY column3 INT PRIMARY KEY AUTO_INCREMENT;
DESCRIBE MyTBL_21;
INSERT INTO MyTBL_21 (column1) VALUES ('EFGH');
SELECT * FROM MyTBL_21;
SHOW STATUS;
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET column3=0 WHERE column2=125;
SELECT * FROM MyTBL_21;
INSERT INTO MyTBL_21 (column1) VALUES ('EFGHJ');
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 DROP PRIMARY KEY;
DESCRIBE MyTBL_21;
UPDATE MyTBL_21 SET column3=1 WHERE column2=125;
SELECT * FROM MyTBL_21;
SHOW TABLE STATUS WHERE Name='MyTBL_21';
DESCRIBE MyTBL_21;
exit;
SHOW DATABASES();
SHOW DATABASES;
USE db24;
SELECT DATABASE();
CREATE MyTBL_21a (Id INT PRIMARY KEY AUTO_INCREMENT, Title VARCHAR(20) NOT NULL);  
CREATE MyTBL_21a (Id INT PRIMARY KEY AUTO_INCREMENT, Title VARCHAR(20) NOT NULL); 
CREATE TABLE MyTBL_21a (Id INT PRIMARY KEY AUTO_INCREMENT, Title VARCHAR(20) NOT NULL);
SELECT * FROM MyTBL_21a;
DESCRIBE MyTBL_21a;
SHOW TABLES;
SELECT * FROM products;
INSERT INTO MyTBL_21a (Title) VALUES ('Viens');
INSERT INTO MyTBL_21a (Title) VALUES ('Divi');
INSERT INTO MyTBL_21a (Title) VALUES ('Triis');
SELECT * FROM MyTBL_21a;
SHOW TABLE STATUS WHERE Name='MyTBL_21';
SHOW TABLE STATUS WHERE Name='MyTBL_21a';
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 ADD fkColumn4 INT FOREIGN KEY REFERENCES MyTBL_21a(Id) DEFAULT 1;
ALTER TABLE MyTBL_21 ADD fkColumn4 INT DEFAULT 1;
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 ADD FOREIGN KEY (fkColumn4) REFERENCES MyTBL_21a(Id);
DESCRIBE MyTBL_21;
SELECT * FROM MyTBL_21;
SELECT * FROM MyTBL_21a;
DELETE FROM MyTBL_21 WHERE column3=1;
SELECT * FROM MyTBL_21;
DELETE FROM MyTBL_21a WHERE Id=3;
DELETE FROM MyTBL_21a WHERE Id=2;
DELETE FROM MyTBL_21a WHERE Id=1;
ALTER TABLE MyTBL_21 DROP FOREIGN KEY (fkColumn4);
ALTER TABLE MyTBL_21 DROP FOREIGN KEY fkColumn4;
SHOW TABLE STATUS WHERE Name='MyTBL_21';
SELECT * FROM information_schema.KEY_COLUMN_USAGE WHERE TABLE_NAME='MyTBL_21';
ALTER TABLE MyTBL_21 DROP FOREIGN KEY MyTBL_21_ibfk_1;
DESCRIBE MyTBL_21;
DELETE FROM MyTBL_21a WHERE Id=1;
ALTER TABLE MyTBL_21 DROP INDEX fkColumn4;;
DESCRIBE MyTBL_21;
ALTER TABLE MyTBL_21 ADD CONSTRAINT MyCONS FOREIGN KEY (fkColumn4) REFERENCES MyTBL_21a(Id);
INSERT INTO MyTBL_21a (Title) VALUES ('Chetri');
DESCRIBE MyTBL_21a;
SELECT * FROM MyTBL_21a;
INSERT INTO MyTBL_21a (Title) VALUES ('Pieci');
DESCRIBE MyTBL_21a;
SELECT * FROM MyTBL_21a;
DESCRIBE MyTBL_21;
SELECT * FROM MyTBL_21;
UPDATE MyTBL_21 SET fkColumn4=4;
SELECT * FROM MyTBL_21;
ALTER TABLE MyTBL_21 ADD CONSTRAINT MyCONS FOREIGN KEY (fkColumn4) REFERENCES MyTBL_21a(Id);
ALTER TABLE MyTBL_21 ADD CONSTRAINT MyCONS11 FOREIGN KEY (fkColumn4) REFERENCES MyTBL_21a(Id);
SHOW CREATE TABLE MyTBL_21;
DELETE * FROM MyTBL_21a;
DESCRIBE MyTBL_21;
DELETE * FROM MyTBL_21a;
ALTER TABLE MyTBL_21 DROP FOREIGN KEY MyCONS11;
DELETE * FROM MyTBL_21a;
DESCRIBE MyTBL_21;
DELETE * FROM MyTBL_21a;
DESCRIBE MyTBL_21a;
DELETE * FROM MyTBL_21a;
DELETE  FROM MyTBL_21a;
SELECT FROM MyTBL_21;
SELECT * FROM MyTBL_21a;
DESCRIBE MyTBL_21a;
ALTER TABLE My_TBL_21a AUTO_INCREMENT=1;
ALTER TABLE MyTBL_21a AUTO_INCREMENT=1;
SHOW CREATE TABLE MyTBL_21a;
INSERT INTO MyTBL_21a (Title) VALUES ('Viens');
INSERT INTO MyTBL_21a (Title) VALUES ('Divi');
SELECT * FROM MyTBL_21a;
SHOW GRANTS;
SHOW TRIGGERS;
DELIMITER $$
CREATE TRIGGER MyTBL_21a_guard BEFORE INSERT ON MyTBL_21a 
FOR EACH ROW
BEGIN
IF NEW.Title='ABC' THEN
SIGNAL SQLSTATE '50000' SET message_text='Ai-jaj-jai, kluuda!';
ENF IF;
END; $$
CREATE TRIGGER MyTBL_21a_guard BEFORE INSERT ON MyTBL_21a  FOR EACH ROW BEGIN IF NEW.Title='ABC' THEN SIGNAL SQLSTATE '50000' SET message_text='Ai-jaj-jai, kluuda!'; ENF IF; END;$$
CREATE TRIGGER MyTBL_21a_guard BEFORE INSERT ON MyTBL_21a  FOR EACH ROW BEGIN IF NEW.Title='ABC' THEN SIGNAL SQLSTATE '50000' SET message_text='Ai-jaj-jai, kluuda!'; END IF; END;$$
SHOW TRIGGERS;
SHOW TRIGGERS LIKE '%MyTBL_21a%';
DELIMITER ;
SHOW TRIGGERS LIKE '%MyTBL_21a%';
SHOW TRIGGERS;
INSERT INTO MyTBL_21a (Title) VALUES ('ABC');
SELECT * FROM MyTBL_21a;
INSERT INTO MyTBL_21a (Title) VALUES ('ABCD');
SELECT * FROM MyTBL_21a;
DELIMITER $$
CREATE TRIGGER MyTBL_21a_guard BEFORE INSERT ON MyTBL_21a  FOR EACH ROW BEGIN IF NEW.Title='ABC' THEN SIGNAL SQLSTATE '50000' SET message_text='Ai-jaj-jai, kluuda!'; END IF; END;$$
INSERT INTO MyTBL_21a (Title) VALUES ('ABC');
DELIMITER ;
INSERT INTO MyTBL_21a (Title) VALUES ('ABC');
DROP TRIGGER MyTBL_21a_guard;
SHOW TRIGGERS LIKE '%MyTBL_21a_guard%' \134G;
DELIMITER $$
CREATE TRIGGER MyTBL_21a_guard BEFORE INSERT ON MyTBL_21a  FOR EACH ROW BEGIN IF NEW.Title='ABC' THEN SIGNAL SQLSTATE '50000' SET message_text='CURRENT_USER'; END IF; END;$$
DROP TRIGGER MyTBL_21a_guard;
DELIMITER ;
DROP TRIGGER MyTBL_21a_guard;
DELIMITER $$
DROP TRIGGER MyTBL_21a_guard;
CREATE TRIGGER MyTBL_21a_guard BEFORE INSERT ON MyTBL_21a  FOR EACH ROW BEGIN DECLARE a varchar(100); SELECT CURRENT USER() INTO @ a; SIGNAL SQLSTATE '5000ssage_text='CURRENT_USER'; END IF; END;$$
DELIMITER $$
CREATE TRIGGER MyTBL_21a_guard BEFORE INSERT ON MyTBL_21a  FOR EACH ROW BEGIN DECLARE a varchar(100); SELECT CURRENT USER() INTO @ a; SIGNAL SQLSTATE '5000ssage_text='CURRENT_USER'; END IF; END;$$
CREATE TRIGGER MyTBL_21a_guard BEFORE INSERT ON MyTBL_21a  FOR EACH ROW BEGIN DECLARE a varchar(100); SELECT CURRENT USER() INTO @ a; SIGNAL SQLSTATE '50000' SET message_text=@a; END;$$
CREATE TRIGGER MyTBL_21a_guard BEFORE INSERT ON MyTBL_21a  FOR EACH ROW BEGIN DECLARE a varchar(100); SELECT CURRENT_USER() INTO @a; SIGNAL SQLSTATE '50000' SET message_text=@a; END;$$
DELIMITER ;
INSERT INTO MyTBL_21a (Title) VALUES ('ABC');
exit;
source script1_1.sql
exit;
source script1_1.sql
SHOW TABLES;
exit;
